# Prod profile: ECS + RDS
# All sensitive values are read from environment variables injected via ECS Task Definition / Secrets Manager

# Example envs to set in ECS Task Definition (either plaintext env or secrets):
# DB_URL=jdbc:postgresql://<rds-endpoint>:5432/bookreview
# DB_USERNAME=bookreview
# DB_PASSWORD=<secure_password>
# JPA_HBM2DDL=validate

spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.hikari.maximum-pool-size=10

spring.jpa.hibernate.ddl-auto=${JPA_HBM2DDL:validate}
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Server
server.port=8080

# Observability
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true

# JWT configuration for prod (read from env)
app.jwt.secret=${JWT_SECRET}
app.jwt.expirationMillis=${JWT_EXPIRATION_MILLIS:3600000}

# Email (SES)
email.enabled=${EMAIL_ENABLED:false}
email.sender=${EMAIL_SENDER:no-reply@example.com}
email.region=${EMAIL_REGION:us-east-1}

